<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>Flash Cards</title>
<style>
#wrap {
    width:400px;
    height:200px;
    position: absolute;
    margin: auto;
    top: 0;
    right: 0;
    bottom: 0;
    left: 0;
}
#card {
    width:400px;
    height:200px;
    display:table-cell;
    vertical-align:middle;
    text-align:center;
    border:1px solid #ccc;
    border-radius:3px;
    box-shadow:0 2px 2px 0 rgba(0,0,0,0.16), 0 0 0 1px rgba(0,0,0,0.08);
    font-family:georgia;
    font-size:16px;
}
/*
.def { transform: rotateY(180deg) translateX(-100%); transition: 0.6s; transform-origin: left center; }
.def p { transform: rotateY(180deg); transition: 0.6s; }
*/
.word p { font-weight:bold; }
</style>

<script>
"use strict";
(function(){
var data = {};
var words = [];
var len;

function parse(tsv)
{
    var lines = tsv.split("\n");
    //lines.sort();
    for (var l=0, ll=lines.length, line; l<ll; l++)
    {
        line = lines[l].replace(/^\s+|\s+$/g, '').split("\t");
        data[line[0]] = line[1];
        words[l] = line[0];
    }
    len = words.length;
    change();
}

function change()
{
    var cl;
    var text;
    var card = document.getElementById("card");
    
    if (card.className !== "word")
    {
        change.word = text = words[Math.floor(Math.random() * len)];
        cl = "word";
    }
    else
    {
        text = data[change.word];
        cl = "def";
    }
    
    card.innerHTML = "<p>" + text + "</p>";
    card.className = cl;
}
change.word = "";

window.addEventListener("load", function() {
    document.addEventListener("click", change);
    var xhr = new XMLHttpRequest();
    xhr.open("GET", "https://docs.google.com/spreadsheets/d/e/2PACX-1vT805xK9V_x6L9ueufwy-c4uoVqU0BjzgnFY7bpwEUshAuicHn65Bi4z13gZlhbnutQFeuhC_lqdSfw/pub?gid=0&single=true&output=tsv", true);
    xhr.onreadystatechange = function() {
        if (xhr.readyState == 4) {
            parse(xhr.responseText);
        }
    }
    xhr.send();
});

})()
</script>
</head>

<body>
<div id="wrap"><div id="card"></div></div>
</body>

</html>
